{"numFailedTestSuites":6,"numFailedTests":12,"numPassedTestSuites":2,"numPassedTests":83,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":8,"numTotalTests":95,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1766176716244,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["ExcelService","processExcelFile"],"duration":84,"failureDetails":[],"failureMessages":[],"fullName":"ExcelService processExcelFile должен выбрасывать ошибку для файла, превышающего максимальный размер","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен выбрасывать ошибку для файла, превышающего максимальный размер"},{"ancestorTitles":["ExcelService","processExcelFile"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"ExcelService processExcelFile должен обрабатывать файл нормального размера","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен обрабатывать файл нормального размера"},{"ancestorTitles":["ExcelService","saveToDatabase"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"ExcelService saveToDatabase должен сохранять данные в БД батчами","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"должен сохранять данные в БД батчами"},{"ancestorTitles":["ExcelService","saveToDatabase"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ExcelService saveToDatabase должен обрабатывать ошибки при сохранении отдельных строк","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен обрабатывать ошибки при сохранении отдельных строк"},{"ancestorTitles":["ExcelService","getExcelData"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ExcelService getExcelData должен получать данные из БД с пагинацией","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен получать данные из БД с пагинацией"},{"ancestorTitles":["ExcelService","getExcelData"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ExcelService getExcelData должен возвращать пустой массив для несуществующего файла","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен возвращать пустой массив для несуществующего файла"},{"ancestorTitles":["ExcelService","getExcelFileMetadata"],"duration":2,"failureDetails":[{"matcherResult":{"actual":25,"expected":100,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: 100\nReceived: 25","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 100\nReceived: 25\n    at Object.toBe (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\__tests__\\lib\\excel-service.test.ts:192:34)\n    at Promise.then.completed (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"ExcelService getExcelFileMetadata должен возвращать метаданные файла","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"должен возвращать метаданные файла"},{"ancestorTitles":["ExcelService","getExcelFileMetadata"],"duration":25,"failureDetails":[{"matcherResult":{"message":"expect(received).toBeNull()\n\nReceived: {\"columnCount\": 3, \"fileId\": 1, \"filename\": \"test.xlsx\", \"headers\": [\"id\", \"name\", \"value\"], \"rowCount\": 25, \"size\": 1024, \"uploadedAt\": 1766176720}","pass":false}}],"failureMessages":["Error: expect(received).toBeNull()\n\nReceived: {\"columnCount\": 3, \"fileId\": 1, \"filename\": \"test.xlsx\", \"headers\": [\"id\", \"name\", \"value\"], \"rowCount\": 25, \"size\": 1024, \"uploadedAt\": 1766176720}\n    at Object.toBeNull (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\__tests__\\lib\\excel-service.test.ts:200:24)\n    at Promise.then.completed (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"ExcelService getExcelFileMetadata должен возвращать null для несуществующего файла","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"должен возвращать null для несуществующего файла"},{"ancestorTitles":["ExcelService","deleteExcelFile"],"duration":2,"failureDetails":[{"matcherResult":{"message":"expect(received).toHaveLength(expected)\n\nExpected length: 0\nReceived length: 2\nReceived array:  [{\"data\": \"{\\\"id\\\":1}\", \"file_id\": 4, \"id\": 31, \"row_index\": 0}, {\"data\": \"{\\\"id\\\":2}\", \"file_id\": 4, \"id\": 32, \"row_index\": 1}]","pass":false}}],"failureMessages":["Error: expect(received).toHaveLength(expected)\n\nExpected length: 0\nReceived length: 2\nReceived array:  [{\"data\": \"{\\\"id\\\":1}\", \"file_id\": 4, \"id\": 31, \"row_index\": 0}, {\"data\": \"{\\\"id\\\":2}\", \"file_id\": 4, \"id\": 32, \"row_index\": 1}]\n    at Object.toHaveLength (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\__tests__\\lib\\excel-service.test.ts:232:20)\n    at Promise.then.completed (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"ExcelService deleteExcelFile должен удалять файл и все связанные данные","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"должен удалять файл и все связанные данные"},{"ancestorTitles":["ExcelService","deleteExcelFile"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"ExcelService deleteExcelFile должен выбрасывать ошибку при попытке удалить несуществующий файл","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен выбрасывать ошибку при попытке удалить несуществующий файл"}],"endTime":1766176720688,"message":"  ● ExcelService › getExcelFileMetadata › должен возвращать метаданные файла\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 100\n    Received: 25\n\n      190 |       expect(metadata).not.toBeNull();\n      191 |       expect(metadata?.filename).toBe('test.xlsx');\n    > 192 |       expect(metadata?.rowCount).toBe(100);\n          |                                  ^\n      193 |       expect(metadata?.columnCount).toBe(5);\n      194 |       expect(metadata?.headers).toHaveLength(5);\n      195 |     });\n\n      at Object.toBe (__tests__/lib/excel-service.test.ts:192:34)\n\n  ● ExcelService › getExcelFileMetadata › должен возвращать null для несуществующего файла\n\n    expect(received).toBeNull()\n\n    Received: {\"columnCount\": 3, \"fileId\": 1, \"filename\": \"test.xlsx\", \"headers\": [\"id\", \"name\", \"value\"], \"rowCount\": 25, \"size\": 1024, \"uploadedAt\": 1766176720}\n\n      198 |       const metadata = excelService.getExcelFileMetadata(99999);\n      199 |       \n    > 200 |       expect(metadata).toBeNull();\n          |                        ^\n      201 |     });\n      202 |   });\n      203 |\n\n      at Object.toBeNull (__tests__/lib/excel-service.test.ts:200:24)\n\n  ● ExcelService › deleteExcelFile › должен удалять файл и все связанные данные\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 0\n    Received length: 2\n    Received array:  [{\"data\": \"{\\\"id\\\":1}\", \"file_id\": 4, \"id\": 31, \"row_index\": 0}, {\"data\": \"{\\\"id\\\":2}\", \"file_id\": 4, \"id\": 32, \"row_index\": 1}]\n\n      230 |       const dataStmt = db.prepare('SELECT * FROM excel_data WHERE file_id = ?');\n      231 |       const data = dataStmt.all(fileId);\n    > 232 |       expect(data).toHaveLength(0);\n          |                    ^\n      233 |     });\n      234 |\n      235 |     it('должен выбрасывать ошибку при попытке удалить несуществующий файл', () => {\n\n      at Object.toHaveLength (__tests__/lib/excel-service.test.ts:232:20)\n","name":"C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\__tests__\\lib\\excel-service.test.ts","startTime":1766176718482,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["API /api/chat"],"duration":60,"failureDetails":[],"failureMessages":[],"fullName":"API /api/chat должен возвращать 400 когда messages отсутствуют","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен возвращать 400 когда messages отсутствуют"},{"ancestorTitles":["API /api/chat"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"API /api/chat должен возвращать 400 когда messages не массив","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен возвращать 400 когда messages не массив"},{"ancestorTitles":["API /api/chat"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"API /api/chat должен возвращать 400 когда messages пустой массив","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен возвращать 400 когда messages пустой массив"},{"ancestorTitles":["API /api/chat"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"API /api/chat должен возвращать 400 когда threadId отсутствует","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен возвращать 400 когда threadId отсутствует"},{"ancestorTitles":["API /api/chat"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"API /api/chat должен возвращать 400 когда threadId не число","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен возвращать 400 когда threadId не число"},{"ancestorTitles":["API /api/chat"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"API /api/chat должен возвращать 400 когда последнее сообщение не от пользователя","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен возвращать 400 когда последнее сообщение не от пользователя"},{"ancestorTitles":["API /api/chat"],"duration":53,"failureDetails":[{"matcherResult":{"message":"expect(jest.fn()).toHaveBeenCalled()\n\nExpected number of calls: >= 1\nReceived number of calls:    0","pass":false}}],"failureMessages":["Error: expect(jest.fn()).toHaveBeenCalled()\n\nExpected number of calls: >= 1\nReceived number of calls:    0\n    at Object.toHaveBeenCalled (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\__tests__\\api\\chat.test.ts:171:28)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"API /api/chat должен успешно обрабатывать валидный запрос","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"должен успешно обрабатывать валидный запрос"},{"ancestorTitles":["API /api/chat"],"duration":5,"failureDetails":[{"matcherResult":{"message":"expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: ObjectContaining {\"messages\": ArrayContaining [{\"content\": \"Hello\", \"role\": \"user\"}, {\"content\": \"Hi\", \"role\": \"assistant\"}, {\"content\": \"You are helpful\", \"role\": \"system\"}]}\n\nNumber of calls: 0","pass":false}}],"failureMessages":["Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: ObjectContaining {\"messages\": ArrayContaining [{\"content\": \"Hello\", \"role\": \"user\"}, {\"content\": \"Hi\", \"role\": \"assistant\"}, {\"content\": \"You are helpful\", \"role\": \"system\"}]}\n\nNumber of calls: 0\n    at Object.toHaveBeenCalledWith (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\__tests__\\api\\chat.test.ts:197:28)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"API /api/chat должен преобразовывать сообщения в формат CoreMessage","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"должен преобразовывать сообщения в формат CoreMessage"},{"ancestorTitles":["API /api/chat"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"API /api/chat должен обрабатывать невалидный JSON","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен обрабатывать невалидный JSON"},{"ancestorTitles":["API /api/chat"],"duration":5,"failureDetails":[{"matcherResult":{"message":"expect(received).toContain(expected) // indexOf\n\nExpected substring: \"Превышен лимит запросов\"\nReceived string:    \"0:\\\"Произошла неизвестная ошибка. Попробуйте позже.\\\"·\n\"","pass":false}}],"failureMessages":["Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"Превышен лимит запросов\"\nReceived string:    \"0:\\\"Произошла неизвестная ошибка. Попробуйте позже.\\\"·\n\"\n    at Object.toContain (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\__tests__\\api\\chat.test.ts:242:18)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"API /api/chat должен обрабатывать ошибки OpenAI API","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"должен обрабатывать ошибки OpenAI API"},{"ancestorTitles":["API /api/chat"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"API /api/chat должен обрабатывать сетевые ошибки","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"должен обрабатывать сетевые ошибки"},{"ancestorTitles":["API /api/chat"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"API /api/chat должен включать детали ошибки в режиме разработки","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"должен включать детали ошибки в режиме разработки"},{"ancestorTitles":["API /api/chat"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"API /api/chat не должен включать детали ошибки в продакшене","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"не должен включать детали ошибки в продакшене"}],"endTime":1766176720781,"message":"  ● API /api/chat › должен успешно обрабатывать валидный запрос\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n      169 |     expect(response).toBeDefined();\n      170 |     expect(mockOpenAI).toHaveBeenCalledWith(\"gpt-3.5-turbo\");\n    > 171 |     expect(mockStreamText).toHaveBeenCalled();\n          |                            ^\n      172 |   });\n      173 |\n      174 |   it(\"должен преобразовывать сообщения в формат CoreMessage\", async () => {\n\n      at Object.toHaveBeenCalled (__tests__/api/chat.test.ts:171:28)\n\n  ● API /api/chat › должен преобразовывать сообщения в формат CoreMessage\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: ObjectContaining {\"messages\": ArrayContaining [{\"content\": \"Hello\", \"role\": \"user\"}, {\"content\": \"Hi\", \"role\": \"assistant\"}, {\"content\": \"You are helpful\", \"role\": \"system\"}]}\n\n    Number of calls: 0\n\n      195 |     await POST(request);\n      196 |\n    > 197 |     expect(mockStreamText).toHaveBeenCalledWith(\n          |                            ^\n      198 |       expect.objectContaining({\n      199 |         messages: expect.arrayContaining([\n      200 |           { role: \"user\", content: \"Hello\" },\n\n      at Object.toHaveBeenCalledWith (__tests__/api/chat.test.ts:197:28)\n\n  ● API /api/chat › должен обрабатывать ошибки OpenAI API\n\n    expect(received).toContain(expected) // indexOf\n\n    Expected substring: \"Превышен лимит запросов\"\n    Received string:    \"0:\\\"Произошла неизвестная ошибка. Попробуйте позже.\\\"·\n    \"\n\n      240 |     // Stream format: 0:\"error message\"\\n\\n\n      241 |     // Проверяем сообщение об ошибке, а не тип\n    > 242 |     expect(text).toContain(\"Превышен лимит запросов\");\n          |                  ^\n      243 |   });\n      244 |\n      245 |   it(\"должен обрабатывать сетевые ошибки\", async () => {\n\n      at Object.toContain (__tests__/api/chat.test.ts:242:18)\n","name":"C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\__tests__\\api\\chat.test.ts","startTime":1766176718505,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Database","Threads"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Database Threads should create a thread","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should create a thread"},{"ancestorTitles":["Database","Threads"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Database Threads should retrieve threads","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should retrieve threads"},{"ancestorTitles":["Database","Threads"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Database Threads should order threads by createdAt DESC","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should order threads by createdAt DESC"},{"ancestorTitles":["Database","Threads"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Database Threads should have correct thread structure","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should have correct thread structure"},{"ancestorTitles":["Database","Messages"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Database Messages should create a message","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should create a message"},{"ancestorTitles":["Database","Messages"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Database Messages should retrieve messages for a thread","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should retrieve messages for a thread"},{"ancestorTitles":["Database","Messages"],"duration":2,"failureDetails":[{"matcherResult":{"message":"expect(received).toHaveLength(expected)\n\nExpected length: 0\nReceived length: 1\nReceived array:  [{\"id\": 1, \"message\": \"Message 1\", \"sender\": \"user\", \"threadId\": 1, \"timestamp\": 1766176721}]","pass":false}}],"failureMessages":["Error: expect(received).toHaveLength(expected)\n\nExpected length: 0\nReceived length: 1\nReceived array:  [{\"id\": 1, \"message\": \"Message 1\", \"sender\": \"user\", \"threadId\": 1, \"timestamp\": 1766176721}]\n    at Object.toHaveLength (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\__tests__\\lib\\db.test.ts:129:24)\n    at Promise.then.completed (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Messages should cascade delete messages when thread is deleted","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should cascade delete messages when thread is deleted"},{"ancestorTitles":["Database","Messages"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Database Messages should have correct message structure","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"should have correct message structure"},{"ancestorTitles":["Database","Messages"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Database Messages should order messages by timestamp ASC","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should order messages by timestamp ASC"}],"endTime":1766176721181,"message":"  ● Database › Messages › should cascade delete messages when thread is deleted\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 0\n    Received length: 1\n    Received array:  [{\"id\": 1, \"message\": \"Message 1\", \"sender\": \"user\", \"threadId\": 1, \"timestamp\": 1766176721}]\n\n      127 |       const messages = selectStmt.all(threadId) as Message[];\n      128 |       \n    > 129 |       expect(messages).toHaveLength(0);\n          |                        ^\n      130 |     });\n      131 |\n      132 |     it(\"should have correct message structure\", () => {\n\n      at Object.toHaveLength (__tests__/lib/db.test.ts:129:24)\n","name":"C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\__tests__\\lib\\db.test.ts","startTime":1766176720830,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["API /api/messages","GET"],"duration":28,"failureDetails":[],"failureMessages":[],"fullName":"API /api/messages GET should return 400 when threadId is missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return 400 when threadId is missing"},{"ancestorTitles":["API /api/messages","GET"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"API /api/messages GET should return 400 when threadId is invalid","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return 400 when threadId is invalid"},{"ancestorTitles":["API /api/messages","GET"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"API /api/messages GET should return empty array when no messages","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return empty array when no messages"},{"ancestorTitles":["API /api/messages","GET"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"API /api/messages GET should return messages for a thread","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should return messages for a thread"},{"ancestorTitles":["API /api/messages","POST"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"API /api/messages POST should return 400 when required fields are missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return 400 when required fields are missing"},{"ancestorTitles":["API /api/messages","POST"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"API /api/messages POST should return 400 when sender is invalid","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return 400 when sender is invalid"},{"ancestorTitles":["API /api/messages","POST"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"API /api/messages POST should return 404 when thread does not exist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return 404 when thread does not exist"},{"ancestorTitles":["API /api/messages","POST"],"duration":55,"failureDetails":[{"matcherResult":{"actual":500,"expected":201,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: 201\nReceived: 500","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 201\nReceived: 500\n    at Object.toBe (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\__tests__\\api\\messages.test.ts:161:31)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"API /api/messages POST should create a new message","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create a new message"},{"ancestorTitles":["API /api/messages","POST"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"API /api/messages POST should return 400 when message is empty","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return 400 when message is empty"},{"ancestorTitles":["API /api/messages","POST"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"API /api/messages POST should handle invalid JSON gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle invalid JSON gracefully"}],"endTime":1766176721380,"message":"  ● API /api/messages › POST › should create a new message\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 201\n    Received: 500\n\n      159 |       const data = await response.json();\n      160 |       \n    > 161 |       expect(response.status).toBe(201);\n          |                               ^\n      162 |       expect(data.message).toBe(\"Test message\");\n      163 |       expect(data.sender).toBe(\"user\");\n      164 |       expect(data.threadId).toBe(threadId);\n\n      at Object.toBe (__tests__/api/messages.test.ts:161:31)\n","name":"C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\__tests__\\api\\messages.test.ts","startTime":1766176720760,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Database Integration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Database Integration should initialize database with getDatabase","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should initialize database with getDatabase"},{"ancestorTitles":["Database Integration"],"duration":1,"failureDetails":[{"matcherResult":{"message":"expect(received).toBeDefined()\n\nReceived: undefined","pass":false}}],"failureMessages":["Error: expect(received).toBeDefined()\n\nReceived: undefined\n    at Object.toBeDefined (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\__tests__\\lib\\db-integration.test.ts:27:20)\n    at Promise.then.completed (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Integration should create threads table","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create threads table"},{"ancestorTitles":["Database Integration"],"duration":0,"failureDetails":[{"matcherResult":{"message":"expect(received).toBeDefined()\n\nReceived: undefined","pass":false}}],"failureMessages":["Error: expect(received).toBeDefined()\n\nReceived: undefined\n    at Object.toBeDefined (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\__tests__\\lib\\db-integration.test.ts:34:20)\n    at Promise.then.completed (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Integration should create messages table","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create messages table"},{"ancestorTitles":["Database Integration"],"duration":0,"failureDetails":[{"matcherResult":{"message":"expect(received).toBeGreaterThan(expected)\n\nExpected: > 0\nReceived:   0","pass":false}}],"failureMessages":["Error: expect(received).toBeGreaterThan(expected)\n\nExpected: > 0\nReceived:   0\n    at Object.toBeGreaterThan (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\__tests__\\lib\\db-integration.test.ts:41:28)\n    at Promise.then.completed (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Database Integration should create indexes","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create indexes"},{"ancestorTitles":["Database Integration"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Database Integration should return same database instance on multiple calls","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return same database instance on multiple calls"}],"endTime":1766176721536,"message":"  ● Database Integration › should create threads table\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n      25 |     const stmt = db.prepare(\"SELECT name FROM sqlite_master WHERE type='table' AND name='threads'\");\n      26 |     const result = stmt.get();\n    > 27 |     expect(result).toBeDefined();\n         |                    ^\n      28 |   });\n      29 |\n      30 |   it(\"should create messages table\", () => {\n\n      at Object.toBeDefined (__tests__/lib/db-integration.test.ts:27:20)\n\n  ● Database Integration › should create messages table\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n      32 |     const stmt = db.prepare(\"SELECT name FROM sqlite_master WHERE type='table' AND name='messages'\");\n      33 |     const result = stmt.get();\n    > 34 |     expect(result).toBeDefined();\n         |                    ^\n      35 |   });\n      36 |\n      37 |   it(\"should create indexes\", () => {\n\n      at Object.toBeDefined (__tests__/lib/db-integration.test.ts:34:20)\n\n  ● Database Integration › should create indexes\n\n    expect(received).toBeGreaterThan(expected)\n\n    Expected: > 0\n    Received:   0\n\n      39 |     const stmt = db.prepare(\"SELECT name FROM sqlite_master WHERE type='index' AND name LIKE 'idx_messages%'\");\n      40 |     const indexes = stmt.all();\n    > 41 |     expect(indexes.length).toBeGreaterThan(0);\n         |                            ^\n      42 |   });\n      43 |\n      44 |   it(\"should return same database instance on multiple calls\", () => {\n\n      at Object.toBeGreaterThan (__tests__/lib/db-integration.test.ts:41:28)\n","name":"C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\__tests__\\lib\\db-integration.test.ts","startTime":1766176721210,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["API /api/threads","GET"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"API /api/threads GET should return empty array when no threads","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return empty array when no threads"},{"ancestorTitles":["API /api/threads","GET"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"API /api/threads GET should return all threads","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should return all threads"},{"ancestorTitles":["API /api/threads","POST"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"API /api/threads POST should create a new thread","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should create a new thread"},{"ancestorTitles":["API /api/threads","POST"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"API /api/threads POST should handle invalid request - missing title","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle invalid request - missing title"},{"ancestorTitles":["API /api/threads","POST"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"API /api/threads POST should handle invalid request - empty title","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle invalid request - empty title"},{"ancestorTitles":["API /api/threads","POST"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"API /api/threads POST should handle invalid request - whitespace-only title","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle invalid request - whitespace-only title"}],"endTime":1766176721962,"message":"","name":"C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\__tests__\\api\\threads.test.ts","startTime":1766176721578,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Excel Tools","1. Тестирование чтения диапазона ячеек (getRange)"],"duration":76,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 1. Тестирование чтения диапазона ячеек (getRange) should read the range A1:B5 correctly from the XLSX file","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should read the range A1:B5 correctly from the XLSX file"},{"ancestorTitles":["Excel Tools","1. Тестирование чтения диапазона ячеек (getRange)"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 1. Тестирование чтения диапазона ячеек (getRange) should read range with sheet name","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should read range with sheet name"},{"ancestorTitles":["Excel Tools","1. Тестирование чтения диапазона ячеек (getRange)"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 1. Тестирование чтения диапазона ячеек (getRange) should read single cell range","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should read single cell range"},{"ancestorTitles":["Excel Tools","1. Тестирование чтения диапазона ячеек (getRange)"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 1. Тестирование чтения диапазона ячеек (getRange) should handle empty cells correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle empty cells correctly"},{"ancestorTitles":["Excel Tools","2. Тестирование записи в ячейку (updateCell)"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 2. Тестирование записи в ячейку (updateCell) should update cell correctly in the XLSX file","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should update cell correctly in the XLSX file"},{"ancestorTitles":["Excel Tools","2. Тестирование записи в ячейку (updateCell)"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 2. Тестирование записи в ячейку (updateCell) should update numeric cell","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should update numeric cell"},{"ancestorTitles":["Excel Tools","2. Тестирование записи в ячейку (updateCell)"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 2. Тестирование записи в ячейку (updateCell) should create new cell if it does not exist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create new cell if it does not exist"},{"ancestorTitles":["Excel Tools","2. Тестирование записи в ячейку (updateCell)"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 2. Тестирование записи в ячейку (updateCell) should update cell in specific sheet","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should update cell in specific sheet"},{"ancestorTitles":["Excel Tools","3. Тестирование подтверждения записи"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 3. Тестирование подтверждения записи should require confirmation before updating the cell","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should require confirmation before updating the cell"},{"ancestorTitles":["Excel Tools","3. Тестирование подтверждения записи"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 3. Тестирование подтверждения записи should not update cell if confirmation is rejected","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should not update cell if confirmation is rejected"},{"ancestorTitles":["Excel Tools","3. Тестирование подтверждения записи"],"duration":37,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 3. Тестирование подтверждения записи should handle async confirmation callback","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle async confirmation callback"},{"ancestorTitles":["Excel Tools","4. Тестирование визуализации таблицы в чате"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 4. Тестирование визуализации таблицы в чате should render table preview correctly in the chat","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should render table preview correctly in the chat"},{"ancestorTitles":["Excel Tools","4. Тестирование визуализации таблицы в чате"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 4. Тестирование визуализации таблицы в чате should render table without headers","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should render table without headers"},{"ancestorTitles":["Excel Tools","4. Тестирование визуализации таблицы в чате"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 4. Тестирование визуализации таблицы в чате should handle empty table","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle empty table"},{"ancestorTitles":["Excel Tools","4. Тестирование визуализации таблицы в чате"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 4. Тестирование визуализации таблицы в чате should handle empty cells in table","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle empty cells in table"},{"ancestorTitles":["Excel Tools","5. Тестирование работы с getRangeFromSheet"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 5. Тестирование работы с getRangeFromSheet should read range from sheet object","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should read range from sheet object"},{"ancestorTitles":["Excel Tools","5. Тестирование работы с getRangeFromSheet"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 5. Тестирование работы с getRangeFromSheet should handle single row range","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle single row range"},{"ancestorTitles":["Excel Tools","6. Тестирование работы с меншонами диапазонов"],"duration":24,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 6. Тестирование работы с меншонами диапазонов should parse range mention from text","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should parse range mention from text"},{"ancestorTitles":["Excel Tools","6. Тестирование работы с меншонами диапазонов"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 6. Тестирование работы с меншонами диапазонов should parse range mention without sheet name","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should parse range mention without sheet name"},{"ancestorTitles":["Excel Tools","6. Тестирование работы с меншонами диапазонов"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 6. Тестирование работы с меншонами диапазонов should parse multiple range mentions","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should parse multiple range mentions"},{"ancestorTitles":["Excel Tools","6. Тестирование работы с меншонами диапазонов"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 6. Тестирование работы с меншонами диапазонов should return empty array if no mentions found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return empty array if no mentions found"},{"ancestorTitles":["Excel Tools","7. Тестирование вспомогательных функций","parseRange"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 7. Тестирование вспомогательных функций parseRange should parse simple range","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should parse simple range"},{"ancestorTitles":["Excel Tools","7. Тестирование вспомогательных функций","parseRange"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 7. Тестирование вспомогательных функций parseRange should parse range with sheet name","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should parse range with sheet name"},{"ancestorTitles":["Excel Tools","7. Тестирование вспомогательных функций","parseRange"],"duration":49,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 7. Тестирование вспомогательных функций parseRange should throw error for invalid range","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for invalid range"},{"ancestorTitles":["Excel Tools","7. Тестирование вспомогательных функций","columnToNumber and numberToColumn"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 7. Тестирование вспомогательных функций columnToNumber and numberToColumn should convert column letters to numbers","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should convert column letters to numbers"},{"ancestorTitles":["Excel Tools","7. Тестирование вспомогательных функций","columnToNumber and numberToColumn"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 7. Тестирование вспомогательных функций columnToNumber and numberToColumn should convert numbers to column letters","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should convert numbers to column letters"},{"ancestorTitles":["Excel Tools","7. Тестирование вспомогательных функций","columnToNumber and numberToColumn"],"duration":28,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 7. Тестирование вспомогательных функций columnToNumber and numberToColumn should be reversible","invocations":1,"location":null,"numPassingAsserts":100,"retryReasons":[],"status":"passed","title":"should be reversible"},{"ancestorTitles":["Excel Tools","7. Тестирование вспомогательных функций","updateCellInSheet"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 7. Тестирование вспомогательных функций updateCellInSheet should update cell in sheet object without saving file","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should update cell in sheet object without saving file"},{"ancestorTitles":["Excel Tools","8. Интеграционные тесты"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 8. Интеграционные тесты should read range, update cell, and read again","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should read range, update cell, and read again"},{"ancestorTitles":["Excel Tools","8. Интеграционные тесты"],"duration":20,"failureDetails":[],"failureMessages":[],"fullName":"Excel Tools 8. Интеграционные тесты should format updated range as table preview","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should format updated range as table preview"}],"endTime":1766176722390,"message":"","name":"C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\__tests__\\lib\\excel-tools.test.ts","startTime":1766176721438,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ExcelViewer","5. Тестирование открытия таблицы в модальном окне"],"duration":268,"failureDetails":[],"failureMessages":[],"fullName":"ExcelViewer 5. Тестирование открытия таблицы в модальном окне should open table in modal and display data correctly","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should open table in modal and display data correctly"},{"ancestorTitles":["ExcelViewer","5. Тестирование открытия таблицы в модальном окне"],"duration":48,"failureDetails":[],"failureMessages":[],"fullName":"ExcelViewer 5. Тестирование открытия таблицы в модальном окне should allow cell selection","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should allow cell selection"},{"ancestorTitles":["ExcelViewer","5. Тестирование открытия таблицы в модальном окне"],"duration":1046,"failureDetails":[{"name":"TestingLibraryElementError"}],"failureMessages":["Error: Unable to find an element with the text: /Выбрана ячейка:/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\nIgnored nodes: comments, script, style\n\u001b[36m<body>\u001b[39m\n  \u001b[36m<div>\u001b[39m\n    \u001b[36m<div\u001b[39m\n      \u001b[33mclass\u001b[39m=\u001b[32m\"flex flex-col h-full bg-white\"\u001b[39m\n    \u001b[36m>\u001b[39m\n      \u001b[36m<div\u001b[39m\n        \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center justify-between p-4 border-b border-gray-200\"\u001b[39m\n      \u001b[36m>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<h2\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"text-lg font-semibold text-gray-900\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mtest.xlsx\u001b[0m\n          \u001b[36m</h2>\u001b[39m\n          \u001b[36m<p\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm text-gray-600\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0m5\u001b[0m\n            \u001b[0m строк, \u001b[0m\n            \u001b[0m2\u001b[0m\n            \u001b[0m столбцов\u001b[0m\n          \u001b[36m</p>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n        \u001b[36m<button\u001b[39m\n          \u001b[33maria-label\u001b[39m=\u001b[32m\"Закрыть просмотр Excel файла\"\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mЗакрыть\u001b[0m\n        \u001b[36m</button>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n      \u001b[36m<div\u001b[39m\n        \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-auto\"\u001b[39m\n      \u001b[36m>\u001b[39m\n        \u001b[36m<table\u001b[39m\n          \u001b[33maria-label\u001b[39m=\u001b[32m\"Excel файл test.xlsx\"\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"min-w-full border-collapse\"\u001b[39m\n          \u001b[33mrole\u001b[39m=\u001b[32m\"table\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<thead\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"bg-gray-50 sticky top-0\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<tr>\u001b[39m\n              \u001b[36m<th\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 bg-gray-100 p-2 text-center font-semibold text-gray-700 min-w-[60px]\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m#\u001b[0m\n              \u001b[36m</th>\u001b[39m\n              \u001b[36m<th\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 p-2 text-left font-semibold text-gray-700 min-w-[120px]\"\u001b[39m\n                \u001b[33mscope\u001b[39m=\u001b[32m\"col\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center justify-between\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<span>\u001b[39m\n                    \u001b[0mEmail\u001b[0m\n                  \u001b[36m</span>\u001b[39m\n                  \u001b[36m<span\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 ml-2\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mA\u001b[0m\n                  \u001b[36m</span>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</th>\u001b[39m\n              \u001b[36m<th\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 p-2 text-left font-semibold text-gray-700 min-w-[120px]\"\u001b[39m\n                \u001b[33mscope\u001b[39m=\u001b[32m\"col\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center justify-between\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<span>\u001b[39m\n                    \u001b[0mSum\u001b[0m\n                  \u001b[36m</span>\u001b[39m\n                  \u001b[36m<span\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 ml-2\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mB\u001b[0m\n                  \u001b[36m</span>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</th>\u001b[39m\n            \u001b[36m</tr>\u001b[39m\n          \u001b[36m</thead>\u001b[39m\n          \u001b[36m<tbody>\u001b[39m\n            \u001b[36m<tr\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"hover:bg-gray-50\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<td\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 bg-gray-100 p-2 text-center text-gray-600 font-semibold\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m1\u001b[0m\n              \u001b[36m</td>\u001b[39m\n              \u001b[36m<td\u001b[39m\n                \u001b[33maria-selected\u001b[39m=\u001b[32m\"false\"\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 p-2 cursor-pointer transition-colors select-none hover:bg-blue-50\"\u001b[39m\n                \u001b[33mrole\u001b[39m=\u001b[32m\"gridcell\"\u001b[39m\n                \u001b[33mtabindex\u001b[39m=\u001b[32m\"0\"\u001b[39m\n                \u001b[33mtitle\u001b[39m=\u001b[32m\"A1: email1@example.com\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"truncate\"\u001b[39m\n                  \u001b[33mtitle\u001b[39m=\u001b[32m\"email1@example.com\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0memail1@example.com\u001b[0m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</td>\u001b[39m\n              \u001b[36m<td\u001b[39m\n                \u001b[33maria-selected\u001b[39m=\u001b[32m\"false\"\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 p-2 cursor-pointer transition-colors select-none hover:bg-blue-50\"\u001b[39m\n                \u001b[33mrole\u001b[39m=\u001b[32m\"gridcell\"\u001b[39m\n                \u001b[33mtabindex\u001b[39m=\u001b[32m\"0\"\u001b[39m\n                \u001b[33mtitle\u001b[39m=\u001b[32m\"B1: 100\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"truncate\"\u001b[39m\n                  \u001b[33mtitle\u001b[39m=\u001b[32m\"100\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0m100\u001b[0m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</td>\u001b[39m\n            \u001b[36m</tr>\u001b[39m\n            \u001b[36m<tr\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"hover:bg-gray-50\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<td\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 bg-gray-100 p-2 text-center text-gray-600 font-semibold\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m2\u001b[0m\n              \u001b[36m</td>\u001b[39m\n              \u001b[36m<td\u001b[39m\n                \u001b[33maria-selected\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 p-2 cursor-pointer transition-colors select-none bg-blue-200 ring-2 ring-blue-500\"\u001b[39m\n                \u001b[33mrole\u001b[39m=\u001b[32m\"gridcell\"\u001b[39m\n                \u001b[33mtabindex\u001b[39m=\u001b[32m\"0\"\u001b[39m\n                \u001b[33mtitle\u001b[39m=\u001b[32m\"A2: email2@example.com\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"truncate\"\u001b[39m\n                  \u001b[33mtitle\u001b[39m=\u001b[32m\"email2@example.com\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0memail2@example.com\u001b[0m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</td>\u001b[39m\n              \u001b[36m<td\u001b[39m\n                \u001b[33maria-selected\u001b[39m=\u001b[32m\"false\"\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 p-2 cursor-pointer transition-colors select-none hover:bg-blue-50\"\u001b[39m\n                \u001b[33mrole\u001b[39m=\u001b[32m\"gridcell\"\u001b[39m\n                \u001b[33mtabindex\u001b[39m=\u001b[32m\"0\"\u001b[39m\n                \u001b[33mtitle\u001b[39m=\u001b[32m\"B2: 150\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"truncate\"\u001b[39m\n                  \u001b[33mtitle\u001b[39m=\u001b[32m\"150\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0m150\u001b[0m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</td>\u001b[39m\n            \u001b[36m</tr>\u001b[39m\n            \u001b[36m<tr\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"hover:bg-gray-50\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<td\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 bg-gray-100 p-2 text-center text-gray-600 font-semibold\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m3\u001b[0m\n              \u001b[36m</td>\u001b[39m\n              \u001b[36m<td\u001b[39m\n                \u001b[33maria-selected\u001b[39m=\u001b[32m\"false\"\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 p-2 cursor-pointer transition-colors select-none hover:bg-blue-50\"\u001b[39m\n                \u001b[33mrole\u001b[39m=\u001b[32m\"gridcell\"\u001b[39m\n                \u001b[33mtabindex\u001b[39m=\u001b[32m\"0\"\u001b[39m\n                \u001b[33mtitle\u001b[39m=\u001b[32m\"A3: email3@example.com\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"truncate\"\u001b[39m\n                  \u001b[33mtitle\u001b[39m=\u001b[32m\"email3@example.com\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0memail3@example.com\u001b[0m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</td>\u001b[39m\n              \u001b[36m<td\u001b[39m\n                \u001b[33maria-selected\u001b[39m=\u001b[32m\"false\"\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 p-2 cursor-pointer transition-colors select-none hover:bg-blue-50\"\u001b[39m\n                \u001b[33mrole\u001b[39m=\u001b[32m\"gridcell\"\u001b[39m\n                \u001b[33mtabindex\u001b[39m=\u001b[32m\"0\"\u001b[39m\n                \u001b[33mtitle\u001b[39m=\u001b[32m\"B3: 200\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"truncate\"\u001b[39m\n                  \u001b[33mtitle\u001b[39m=\u001b[32m\"200\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0m200\u001b[0m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</td>\u001b[39m\n            \u001b[36m</tr>\u001b[39m\n          \u001b[36m</tbody>\u001b[39m\n        \u001b[36m</table>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n      \u001b[36m<div\u001b[39m\n        \u001b[33mclass\u001b[39m=\u001b[32m\"p-3 bg-blue-50 border-t border-gray-200 flex items-center justify-between\"\u001b[39m\n      \u001b[36m>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm text-gray-700\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mВыбрано: \u001b[0m\n          \u001b[36m<strong\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"font-mono bg-blue-100 px-2 py-1 rounded\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mA2\u001b[0m\n          \u001b[36m</strong>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</div>\u001b[39m\n  \u001b[36m</div>\u001b[39m\n\u001b[36m</body>\u001b[39m\n    at waitForWrapper (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:163:27)\n    at Object.<anonymous> (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\__tests__\\components\\ExcelViewer.test.tsx:121:20)\n    at Promise.then.completed (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"ExcelViewer 5. Тестирование открытия таблицы в модальном окне should display selected cell information","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should display selected cell information"},{"ancestorTitles":["ExcelViewer","5. Тестирование открытия таблицы в модальном окне"],"duration":46,"failureDetails":[],"failureMessages":[],"fullName":"ExcelViewer 5. Тестирование открытия таблицы в модальном окне should handle range selection through multiple clicks","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle range selection through multiple clicks"},{"ancestorTitles":["ExcelViewer","5. Тестирование открытия таблицы в модальном окне"],"duration":39,"failureDetails":[],"failureMessages":[],"fullName":"ExcelViewer 5. Тестирование открытия таблицы в модальном окне should display table with correct structure","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should display table with correct structure"},{"ancestorTitles":["ExcelViewer","5. Тестирование открытия таблицы в модальном окне"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"ExcelViewer 5. Тестирование открытия таблицы в модальном окне should handle pagination for large files","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle pagination for large files"},{"ancestorTitles":["ExcelViewer","5. Тестирование открытия таблицы в модальном окне"],"duration":29,"failureDetails":[],"failureMessages":[],"fullName":"ExcelViewer 5. Тестирование открытия таблицы в модальном окне should call onClose when close button is clicked","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call onClose when close button is clicked"},{"ancestorTitles":["ExcelViewer","5. Тестирование открытия таблицы в модальном окне"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"ExcelViewer 5. Тестирование открытия таблицы в модальном окне should handle loading state","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle loading state"},{"ancestorTitles":["ExcelViewer","5. Тестирование открытия таблицы в модальном окне"],"duration":48,"failureDetails":[],"failureMessages":[],"fullName":"ExcelViewer 5. Тестирование открытия таблицы в модальном окне should handle error state","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle error state"},{"ancestorTitles":["ExcelViewer","5. Тестирование открытия таблицы в модальном окне"],"duration":31,"failureDetails":[],"failureMessages":[],"fullName":"ExcelViewer 5. Тестирование открытия таблицы в модальном окне should handle empty data","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle empty data"},{"ancestorTitles":["ExcelViewer","5. Тестирование открытия таблицы в модальном окне"],"duration":73,"failureDetails":[],"failureMessages":[],"fullName":"ExcelViewer 5. Тестирование открытия таблицы в модальном окне should support keyboard navigation","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should support keyboard navigation"},{"ancestorTitles":["ExcelViewer","5. Тестирование открытия таблицы в модальном окне"],"duration":27,"failureDetails":[],"failureMessages":[],"fullName":"ExcelViewer 5. Тестирование открытия таблицы в модальном окне should display column labels (A, B, C, ...)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should display column labels (A, B, C, ...)"}],"endTime":1766176722504,"message":"  ● ExcelViewer › 5. Тестирование открытия таблицы в модальном окне › should display selected cell information\n\n    Unable to find an element with the text: /Выбрана ячейка:/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex flex-col h-full bg-white\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center justify-between p-4 border-b border-gray-200\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div>\u001b[39m\n              \u001b[36m<h2\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"text-lg font-semibold text-gray-900\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mtest.xlsx\u001b[0m\n              \u001b[36m</h2>\u001b[39m\n              \u001b[36m<p\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm text-gray-600\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m5\u001b[0m\n                \u001b[0m строк, \u001b[0m\n                \u001b[0m2\u001b[0m\n                \u001b[0m столбцов\u001b[0m\n              \u001b[36m</p>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33maria-label\u001b[39m=\u001b[32m\"Закрыть просмотр Excel файла\"\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mЗакрыть\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-auto\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<table\u001b[39m\n              \u001b[33maria-label\u001b[39m=\u001b[32m\"Excel файл test.xlsx\"\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"min-w-full border-collapse\"\u001b[39m\n              \u001b[33mrole\u001b[39m=\u001b[32m\"table\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<thead\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"bg-gray-50 sticky top-0\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<tr>\u001b[39m\n                  \u001b[36m<th\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 bg-gray-100 p-2 text-center font-semibold text-gray-700 min-w-[60px]\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0m#\u001b[0m\n                  \u001b[36m</th>\u001b[39m\n                  \u001b[36m<th\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 p-2 text-left font-semibold text-gray-700 min-w-[120px]\"\u001b[39m\n                    \u001b[33mscope\u001b[39m=\u001b[32m\"col\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center justify-between\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span>\u001b[39m\n                        \u001b[0mEmail\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 ml-2\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0mA\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</th>\u001b[39m\n                  \u001b[36m<th\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 p-2 text-left font-semibold text-gray-700 min-w-[120px]\"\u001b[39m\n                    \u001b[33mscope\u001b[39m=\u001b[32m\"col\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center justify-between\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span>\u001b[39m\n                        \u001b[0mSum\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 ml-2\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0mB\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</th>\u001b[39m\n                \u001b[36m</tr>\u001b[39m\n              \u001b[36m</thead>\u001b[39m\n              \u001b[36m<tbody>\u001b[39m\n                \u001b[36m<tr\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"hover:bg-gray-50\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<td\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 bg-gray-100 p-2 text-center text-gray-600 font-semibold\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0m1\u001b[0m\n                  \u001b[36m</td>\u001b[39m\n                  \u001b[36m<td\u001b[39m\n                    \u001b[33maria-selected\u001b[39m=\u001b[32m\"false\"\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 p-2 cursor-pointer transition-colors select-none hover:bg-blue-50\"\u001b[39m\n                    \u001b[33mrole\u001b[39m=\u001b[32m\"gridcell\"\u001b[39m\n                    \u001b[33mtabindex\u001b[39m=\u001b[32m\"0\"\u001b[39m\n                    \u001b[33mtitle\u001b[39m=\u001b[32m\"A1: email1@example.com\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"truncate\"\u001b[39m\n                      \u001b[33mtitle\u001b[39m=\u001b[32m\"email1@example.com\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0memail1@example.com\u001b[0m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</td>\u001b[39m\n                  \u001b[36m<td\u001b[39m\n                    \u001b[33maria-selected\u001b[39m=\u001b[32m\"false\"\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 p-2 cursor-pointer transition-colors select-none hover:bg-blue-50\"\u001b[39m\n                    \u001b[33mrole\u001b[39m=\u001b[32m\"gridcell\"\u001b[39m\n                    \u001b[33mtabindex\u001b[39m=\u001b[32m\"0\"\u001b[39m\n                    \u001b[33mtitle\u001b[39m=\u001b[32m\"B1: 100\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"truncate\"\u001b[39m\n                      \u001b[33mtitle\u001b[39m=\u001b[32m\"100\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0m100\u001b[0m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</td>\u001b[39m\n                \u001b[36m</tr>\u001b[39m\n                \u001b[36m<tr\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"hover:bg-gray-50\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<td\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 bg-gray-100 p-2 text-center text-gray-600 font-semibold\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0m2\u001b[0m\n                  \u001b[36m</td>\u001b[39m\n                  \u001b[36m<td\u001b[39m\n                    \u001b[33maria-selected\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 p-2 cursor-pointer transition-colors select-none bg-blue-200 ring-2 ring-blue-500\"\u001b[39m\n                    \u001b[33mrole\u001b[39m=\u001b[32m\"gridcell\"\u001b[39m\n                    \u001b[33mtabindex\u001b[39m=\u001b[32m\"0\"\u001b[39m\n                    \u001b[33mtitle\u001b[39m=\u001b[32m\"A2: email2@example.com\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"truncate\"\u001b[39m\n                      \u001b[33mtitle\u001b[39m=\u001b[32m\"email2@example.com\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0memail2@example.com\u001b[0m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</td>\u001b[39m\n                  \u001b[36m<td\u001b[39m\n                    \u001b[33maria-selected\u001b[39m=\u001b[32m\"false\"\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 p-2 cursor-pointer transition-colors select-none hover:bg-blue-50\"\u001b[39m\n                    \u001b[33mrole\u001b[39m=\u001b[32m\"gridcell\"\u001b[39m\n                    \u001b[33mtabindex\u001b[39m=\u001b[32m\"0\"\u001b[39m\n                    \u001b[33mtitle\u001b[39m=\u001b[32m\"B2: 150\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"truncate\"\u001b[39m\n                      \u001b[33mtitle\u001b[39m=\u001b[32m\"150\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0m150\u001b[0m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</td>\u001b[39m\n                \u001b[36m</tr>\u001b[39m\n                \u001b[36m<tr\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"hover:bg-gray-50\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<td\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 bg-gray-100 p-2 text-center text-gray-600 font-semibold\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0m3\u001b[0m\n                  \u001b[36m</td>\u001b[39m\n                  \u001b[36m<td\u001b[39m\n                    \u001b[33maria-selected\u001b[39m=\u001b[32m\"false\"\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 p-2 cursor-pointer transition-colors select-none hover:bg-blue-50\"\u001b[39m\n                    \u001b[33mrole\u001b[39m=\u001b[32m\"gridcell\"\u001b[39m\n                    \u001b[33mtabindex\u001b[39m=\u001b[32m\"0\"\u001b[39m\n                    \u001b[33mtitle\u001b[39m=\u001b[32m\"A3: email3@example.com\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"truncate\"\u001b[39m\n                      \u001b[33mtitle\u001b[39m=\u001b[32m\"email3@example.com\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0memail3@example.com\u001b[0m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</td>\u001b[39m\n                  \u001b[36m<td\u001b[39m\n                    \u001b[33maria-selected\u001b[39m=\u001b[32m\"false\"\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"border border-gray-300 p-2 cursor-pointer transition-colors select-none hover:bg-blue-50\"\u001b[39m\n                    \u001b[33mrole\u001b[39m=\u001b[32m\"gridcell\"\u001b[39m\n                    \u001b[33mtabindex\u001b[39m=\u001b[32m\"0\"\u001b[39m\n                    \u001b[33mtitle\u001b[39m=\u001b[32m\"B3: 200\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"truncate\"\u001b[39m\n                      \u001b[33mtitle\u001b[39m=\u001b[32m\"200\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0m200\u001b[0m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</td>\u001b[39m\n                \u001b[36m</tr>\u001b[39m\n              \u001b[36m</tbody>\u001b[39m\n            \u001b[36m</table>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"p-3 bg-blue-50 border-t border-gray-200 flex items-center justify-between\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm text-gray-700\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mВыбрано: \u001b[0m\n              \u001b[36m<strong\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"font-mono bg-blue-100 px-2 py-1 rounded\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mA2\u001b[0m\n              \u001b[36m</strong>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n      119 |       );\n      120 |\n    > 121 |       await waitFor(() => {\n          |                    ^\n      122 |         expect(screen.getByText(/Выбрана ячейка:/)).toBeInTheDocument();\n      123 |         expect(screen.getByText(\"A2\")).toBeInTheDocument();\n      124 |       });\n\n      at waitForWrapper (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/components/ExcelViewer.test.tsx:121:20)\n","name":"C:\\Users\\erikh\\OneDrive\\Документы\\GitHub\\ChatFlow\\__tests__\\components\\ExcelViewer.test.tsx","startTime":1766176718316,"status":"failed","summary":""}],"wasInterrupted":false}
