#!/bin/bash

echo "üß™ –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ ChatFlow"
echo "================================"
echo ""

echo "üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π..."
npm install

echo ""
echo "üåê –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤ Playwright..."
npx playwright install --with-deps

echo ""
echo "üîç –ó–∞–ø—É—Å–∫ –ª–∏–Ω—Ç–µ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)..."
npm run lint || echo "‚ö†Ô∏è  –õ–∏–Ω—Ç–µ—Ä –ø—Ä–æ–ø—É—â–µ–Ω (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)"

echo ""
echo "‚úÖ –ó–∞–ø—É—Å–∫ unit –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤..."
npm run test:coverage

echo ""
echo "üé≠ –ó–∞–ø—É—Å–∫ E2E —Ç–µ—Å—Ç–æ–≤..."
npm run test:e2e

echo ""
echo "‚ú® –í—Å–µ —Ç–µ—Å—Ç—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã!"
echo "üìä –û—Ç—á–µ—Ç –æ –ø–æ–∫—Ä—ã—Ç–∏–∏: coverage/lcov-report/index.html"

